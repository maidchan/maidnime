import{d as b,r as g,k as S,c as r,b as t,q as A,F as h,l as v,t as a,a as x,i as I,e as N,f as C,s as f,x as w,o as n,j as y,y as D,_ as L,u as E,m as _,z as $,A as k,B as j}from"./index-BpSo1JSB.js";import{_ as V}from"./AnimeCard.vue_vue_type_script_setup_true_lang-BEYj3iUy.js";const z={class:"relative w-full h-[600px] lg:h-[700px]"},q={class:"absolute inset-0 w-full h-full"},M={class:"relative h-full max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8 flex flex-col justify-end pb-8 md:pb-12 pt-20 md:pt-24"},P={class:"flex flex-col md:flex-row gap-6 md:gap-8 items-end"},R={class:"hidden md:block shrink-0 relative group"},T={class:"w-56 lg:w-64 aspect-2/3 rounded-xl overflow-hidden shadow-2xl border-2 border-white/10 relative z-10 transform transition-transform group-hover:scale-[1.02]"},B=["src","alt"],F={class:"flex-1 space-y-4 md:space-y-6 w-full"},O={class:"flex flex-wrap gap-2"},H={class:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-extrabold text-white leading-tight tracking-tight drop-shadow-lg"},J={class:"flex flex-wrap items-center gap-2 md:gap-4 text-xs sm:text-sm md:text-base text-gray-300 font-medium"},W={class:"flex items-center text-yellow-400 gap-1"},G={class:"font-bold text-white"},K={class:"text-green-400"},Q={class:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 md:gap-4 pt-2"},U=["href"],X=b({__name:"DetailHero",props:{id:{},title:{},poster:{},banner:{},description:{},rating:{},year:{},episodes:{},status:{},genre:{},trailer:{},latestEpisodeId:{}},setup(i){const c=i,l=g(!1),s=()=>{l.value=!l.value;const d=JSON.parse(localStorage.getItem("watchlist")||"[]");if(l.value)d.find(e=>e.id===c.id)||d.push({id:c.id,title:c.title,image:c.poster});else{const e=d.findIndex(o=>o.id===c.id);e>-1&&d.splice(e,1)}localStorage.setItem("watchlist",JSON.stringify(d))};return S(()=>{const d=JSON.parse(localStorage.getItem("watchlist")||"[]");l.value=!!d.find(e=>e.id===c.id)}),(d,e)=>{const o=N("router-link");return n(),r("div",z,[t("div",q,[t("div",{class:"w-full h-full bg-cover bg-center",style:A({backgroundImage:`url('${i.banner}')`})},null,4),e[0]||(e[0]=t("div",{class:"absolute inset-0 bg-linear-to-t from-background-dark via-background-dark/80 to-transparent"},null,-1)),e[1]||(e[1]=t("div",{class:"absolute inset-0 bg-linear-to-r from-background-dark/90 via-background-dark/40 to-transparent"},null,-1))]),t("div",M,[t("div",P,[t("div",R,[t("div",T,[t("img",{src:i.poster,alt:i.title,class:"w-full h-full object-cover"},null,8,B)]),e[2]||(e[2]=t("div",{class:"absolute -inset-4 bg-primary/30 blur-2xl -z-10 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-500"},null,-1))]),t("div",F,[t("div",O,[(n(!0),r(h,null,v(i.genre,p=>(n(),r("span",{key:p,class:"px-2 md:px-3 py-1 rounded-full bg-primary/20 border border-primary/30 text-primary-200 text-xs font-bold uppercase tracking-wider"},a(p),1))),128))]),t("h1",H,a(i.title),1),t("div",J,[t("div",W,[e[3]||(e[3]=t("span",{class:"material-symbols-outlined text-base md:text-lg fill-current"},"star",-1)),t("span",G,a(i.rating),1)]),e[4]||(e[4]=t("span",{class:"w-1 h-1 rounded-full bg-gray-500 hidden sm:block"},null,-1)),t("span",null,a(i.year),1),e[5]||(e[5]=t("span",{class:"w-1 h-1 rounded-full bg-gray-500 hidden sm:block"},null,-1)),t("span",null,a(i.episodes)+" Episodes",1),e[6]||(e[6]=t("span",{class:"w-1 h-1 rounded-full bg-gray-500 hidden sm:block"},null,-1)),t("span",K,a(i.status),1),e[7]||(e[7]=t("span",{class:"w-1 h-1 rounded-full bg-gray-500 hidden sm:block"},null,-1)),e[8]||(e[8]=t("span",{class:"border border-white/20 px-1.5 rounded text-xs"},"TV-MA",-1))]),t("div",Q,[x(o,{to:i.latestEpisodeId?`/watch?id=${i.latestEpisodeId}`:`/anime/${i.id}`,class:"h-12 px-6 md:px-8 bg-primary hover:bg-primary-hover text-white rounded-lg font-bold flex items-center justify-center gap-2 transition-all shadow-lg shadow-primary/25 cursor-pointer min-h-[44px]"},{default:C(()=>[...e[9]||(e[9]=[t("span",{class:"material-symbols-outlined fill"},"play_arrow",-1),f(" Watch Now ",-1)])]),_:1},8,["to"]),i.trailer?(n(),r("a",{key:0,href:i.trailer,target:"_blank",class:"h-12 px-6 md:px-8 bg-white/10 hover:bg-white/20 text-white rounded-lg font-bold flex items-center justify-center gap-2 backdrop-blur-sm transition-all border border-white/10 min-h-[44px]"},[...e[10]||(e[10]=[t("span",{class:"material-symbols-outlined"},"movie",-1),f(" Trailer ",-1)])],8,U)):I("",!0),t("button",{onClick:s,class:w(["h-12 px-5 md:px-6 bg-white/10 hover:bg-white/20 text-white rounded-lg font-bold flex items-center justify-center gap-2 backdrop-blur-sm transition-all border border-white/10 min-h-[44px]",{"text-primary":l.value}])},[t("span",{class:w(["material-symbols-outlined",{"fill-1":l.value}])},a(l.value?"done":"add"),3),f(" "+a(l.value?"In My List":"My List"),1)],2)])])])])])}}}),Y={class:"flex items-center justify-between mb-6"},Z={class:"text-xl font-bold text-white flex items-center gap-2"},tt={class:"text-sm font-normal text-gray-400 bg-white/5 px-2 py-0.5 rounded-full"},et={class:"space-y-3"},st=["onClick"],lt={class:"relative w-full sm:w-32 aspect-video sm:aspect-video rounded-md overflow-hidden shrink-0"},it=["src","alt"],at={class:"absolute bottom-1 right-1 px-1.5 py-0.5 bg-black/80 text-[10px] font-bold rounded text-white"},ot={class:"flex-1 min-w-0 w-full sm:w-auto"},rt={class:"flex items-center justify-between mb-1 gap-2"},nt={class:"text-white font-bold text-sm md:text-base truncate group-hover:text-primary transition-colors flex-1"},dt={class:"text-xs text-gray-500 font-mono shrink-0"},ct={class:"text-xs md:text-sm text-gray-400 line-clamp-2 sm:line-clamp-1"},ut=b({__name:"EpisodeList",props:{episodes:{}},setup(i){const c=D(),l=g(!1),s=d=>{c.push({name:"watch",query:{id:d.toString()}})};return(d,e)=>(n(),r("section",null,[t("div",Y,[t("h3",Z,[e[1]||(e[1]=f(" Episodes ",-1)),t("span",tt,a(i.episodes.length),1)]),e[2]||(e[2]=y('<div class="flex bg-surface-dark rounded-lg p-1 border border-white/5"><button class="p-1.5 md:p-1.5 rounded bg-white/10 text-white active:bg-white/10 min-h-[44px] min-w-[44px] flex items-center justify-center"><span class="material-symbols-outlined text-lg md:text-[20px]">grid_view</span></button><button class="p-1.5 md:p-1.5 rounded text-gray-400 hover:text-white active:text-white min-h-[44px] min-w-[44px] flex items-center justify-center"><span class="material-symbols-outlined text-lg md:text-[20px]">list</span></button></div>',1))]),t("div",et,[(n(!0),r(h,null,v(l.value?i.episodes:i.episodes.slice(0,3),o=>(n(),r("div",{key:o.id,onClick:p=>s(o.id),class:"group flex flex-col sm:flex-row items-start sm:items-center gap-3 sm:gap-4 p-3 rounded-lg bg-surface-dark/40 hover:bg-surface-light border border-transparent hover:border-primary/30 transition-all cursor-pointer active:bg-surface-light"},[t("div",lt,[t("img",{src:o.thumbnail,alt:o.title,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"},null,8,it),e[3]||(e[3]=t("div",{class:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity"},[t("div",{class:"w-8 h-8 md:w-10 md:h-10 rounded-full bg-primary flex items-center justify-center text-white"},[t("span",{class:"material-symbols-outlined text-[20px] md:text-[24px] ml-0.5"},"play_arrow")])],-1)),t("div",at,a(o.duration),1)]),t("div",ot,[t("div",rt,[t("h4",nt,a(o.title),1),t("span",dt,"EP "+a(o.id.toString().padStart(2,"0")),1)]),t("p",ct,a(o.description),1)])],8,st))),128))]),i.episodes.length>3?(n(),r("button",{key:0,onClick:e[0]||(e[0]=o=>l.value=!l.value),class:"w-full mt-4 py-3 text-sm md:text-base text-gray-400 hover:text-white bg-surface-dark hover:bg-surface-light rounded-lg transition-colors font-medium flex items-center justify-center gap-2 min-h-[44px] active:bg-surface-light"},[f(a(l.value?"Show less":`Show all ${i.episodes.length} episodes`)+" ",1),t("span",{class:w(["material-symbols-outlined text-lg",{"rotate-180":l.value}])},"expand_more",2)])):I("",!0)]))}}),mt={class:"space-y-8"},xt={class:"bg-surface-dark/30 p-6 rounded-xl border border-white/5"},pt={class:"space-y-4"},gt={class:"flex justify-between items-center pb-3 border-b border-white/5"},ft={class:"text-sm text-primary font-medium"},bt={class:"flex justify-between items-center pb-3 border-b border-white/5"},ht={class:"text-sm text-white"},vt={class:"flex justify-between items-center pb-3 border-b border-white/5"},wt={class:"text-sm text-white"},yt={class:"flex justify-between items-center pb-3 border-b border-white/5"},_t={class:"text-sm text-white"},$t={class:"flex justify-between items-center"},kt={class:"text-xs font-bold text-background-dark bg-white px-2 py-0.5 rounded"},jt={class:"grid grid-cols-1 gap-3"},St={class:"w-10 h-10 rounded-full bg-gray-700 overflow-hidden"},It=["src","alt"],At={class:"text-sm font-bold text-white"},Nt={class:"text-xs text-gray-400"},Ct=b({__name:"InfoSidebar",props:{studio:{},aired:{},season:{},duration:{},quality:{},characters:{}},setup(i){return(c,l)=>(n(),r("div",mt,[t("div",xt,[l[5]||(l[5]=t("h4",{class:"text-white font-bold mb-4"},"Information",-1)),t("div",pt,[t("div",gt,[l[0]||(l[0]=t("span",{class:"text-sm text-gray-400"},"Studio",-1)),t("span",ft,a(i.studio),1)]),t("div",bt,[l[1]||(l[1]=t("span",{class:"text-sm text-gray-400"},"Aired",-1)),t("span",ht,a(i.aired),1)]),t("div",vt,[l[2]||(l[2]=t("span",{class:"text-sm text-gray-400"},"Season",-1)),t("span",wt,a(i.season),1)]),t("div",yt,[l[3]||(l[3]=t("span",{class:"text-sm text-gray-400"},"Duration",-1)),t("span",_t,a(i.duration),1)]),t("div",$t,[l[4]||(l[4]=t("span",{class:"text-sm text-gray-400"},"Quality",-1)),t("span",kt,a(i.quality),1)])])]),t("div",null,[l[6]||(l[6]=t("h4",{class:"text-white font-bold mb-4"},"Main Characters",-1)),t("div",jt,[(n(!0),r(h,null,v(i.characters,s=>(n(),r("div",{key:s.name,class:"flex items-center gap-3 p-2 rounded-lg hover:bg-white/5 transition-colors"},[t("div",St,[t("img",{src:s.image,alt:s.name,class:"w-full h-full object-cover"},null,8,It)]),t("div",null,[t("div",At,a(s.name),1),t("div",Nt,a(s.role),1)])]))),128))])]),l[7]||(l[7]=y('<div class="rounded-xl overflow-hidden relative h-40 group cursor-pointer"><div class="absolute inset-0 bg-gradient-to-r from-primary to-purple-800"></div><div class="absolute inset-0 flex flex-col items-center justify-center p-4 text-center"><span class="material-symbols-outlined text-white/50 text-4xl mb-2">diamond</span><p class="text-white font-bold">Go Premium</p><p class="text-white/70 text-xs mt-1">Watch without ads in 4K</p></div></div>',1))]))}}),Dt={class:"mt-16 border-t border-white/5 pt-12"},Lt={class:"flex gap-6 overflow-x-auto pb-8 scrollbar-hide scroll-smooth"},Et=b({__name:"RelatedAnime",props:{animeList:{}},setup(i){return(c,l)=>(n(),r("section",Dt,[l[0]||(l[0]=y('<div class="flex items-center justify-between mb-6" data-v-4791aeef><h3 class="text-2xl font-bold text-white" data-v-4791aeef>Anime Terkait</h3><div class="flex gap-2" data-v-4791aeef><button class="p-2 rounded-full border border-white/10 hover:bg-white/10 text-white transition-colors" data-v-4791aeef><span class="material-symbols-outlined text-sm" data-v-4791aeef>arrow_back</span></button><button class="p-2 rounded-full border border-white/10 hover:bg-white/10 text-white transition-colors" data-v-4791aeef><span class="material-symbols-outlined text-sm" data-v-4791aeef>arrow_forward</span></button></div></div>',1)),t("div",Lt,[(n(!0),r(h,null,v(i.animeList,s=>(n(),r("div",{key:s.id,class:"w-[160px] md:w-[200px] shrink-0"},[x(V,{id:s.id,title:s.title,image:s.image,rating:s.rating,year:s.status,genre:s.genre&&s.genre.length?s.genre[0]:""},null,8,["id","title","image","rating","year","genre"])]))),128))])]))}}),Vt=L(Et,[["__scopeId","data-v-4791aeef"]]),zt={class:"w-full"},qt={key:0,class:"min-h-screen flex items-center justify-center"},Mt={class:"max-w-[1280px] mx-auto px-4 sm:px-6 lg:px-8 py-6 md:py-12"},Pt={class:"grid grid-cols-1 lg:grid-cols-12 gap-6 md:gap-8 lg:gap-12"},Rt={class:"lg:col-span-8 space-y-8 md:space-y-12 order-2 lg:order-1"},Tt={class:"md:hidden w-full flex gap-4 mb-6"},Bt={class:"w-28 sm:w-32 aspect-2/3 rounded-lg overflow-hidden shrink-0 shadow-lg border border-white/10"},Ft=["src","alt"],Ot={class:"flex flex-col justify-center gap-2"},Ht={class:"text-xs sm:text-sm text-gray-400"},Jt={class:"text-xs sm:text-sm text-gray-400"},Wt={class:"bg-surface-dark/50 p-4 md:p-6 rounded-xl border border-white/5"},Gt={class:"text-gray-300 leading-relaxed text-sm md:text-base"},Kt={class:"lg:col-span-4 space-y-6 md:space-y-8 order-1 lg:order-2"},Qt={key:2,class:"min-h-screen flex items-center justify-center text-white"},Yt=b({__name:"AnimeDetailView",setup(i){const l=E().params.id,s=g(null),d=g([]),e=g(!0);S(async()=>{try{const[m,u]=await Promise.all([_.getAnimeDetail(l),_.getHome()]);s.value=m,d.value=u}catch(m){console.error("Failed to fetch anime detail:",m)}finally{e.value=!1}});const o=$(()=>s.value?{id:s.value.id,title:s.value.title,poster:s.value.image,banner:s.value.image,description:s.value.synopsis,rating:s.value.rating&&parseFloat(s.value.rating.split("/")[0])||0,year:2024,episodes:s.value.episodes.length,status:s.value.status||"Ongoing",genre:s.value.genre||[],latestEpisodeId:s.value.episodes.length>0?s.value.episodes[0].id:void 0,studio:"Ufotable",aired:"N/A",season:"N/A",duration:"24 min",quality:"HD",characters:[]}:null),p=$(()=>s.value?s.value.episodes.map(m=>{var u;return{id:m.id,title:m.title,description:"",thumbnail:((u=s.value)==null?void 0:u.image)||"",duration:m.date}}):[]);return(m,u)=>(n(),r("main",zt,[e.value?(n(),r("div",qt,[...u[0]||(u[0]=[t("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"},null,-1)])])):o.value?(n(),r(h,{key:1},[x(X,k(j(o.value)),null,16),t("div",Mt,[t("div",Pt,[t("div",Rt,[t("div",Tt,[t("div",Bt,[t("img",{src:o.value.poster,alt:o.value.title,class:"w-full h-full object-cover"},null,8,Ft)]),t("div",Ot,[t("div",Ht,"Studio "+a(o.value.studio),1),t("div",Jt,a(o.value.aired),1)])]),t("section",null,[u[1]||(u[1]=t("h3",{class:"text-lg md:text-xl font-bold text-white mb-3 md:mb-4 flex items-center gap-2"},"Synopsis",-1)),t("div",Wt,[t("p",Gt,a(o.value.description),1)])]),x(ut,{episodes:p.value},null,8,["episodes"])]),t("div",Kt,[x(Ct,k(j(o.value)),null,16)])]),x(Vt,{"anime-list":d.value},null,8,["anime-list"])])],64)):(n(),r("div",Qt," Anime not found. "))]))}});export{Yt as default};
